import { MatrixLayer, ScaffoldRect } from './layer.ts'
import { ViewX, ViewZ } from '../../../../integration/query/structure/view/view.ts'

describe(`${MatrixLayer.name}`, () => {
  it(`should hold 3d vectors for a horizontal layer of a scaffold matrix`, () => {
    const layer = new MatrixLayer(-200, 400, 600)

    const rect = layer.getRect({ x: ViewX.Center, z: ViewZ.L1 })
    const expected: ScaffoldRect = {
      fl: [-200, -200, 200],
      fr: [200, -200, 200],
      bl: [-200, -200, -200],
      br: [200, -200, -200],
    }
    expect(rect).toEqual(expected)

    const rect2 = layer.getRect({ x: ViewX.Left1, z: ViewZ.L2 })
    const expected2: ScaffoldRect = {
      fl: [-800, -200, -200],
      fr: [-200, -200, -200],
      bl: [-800, -200, -800],
      br: [-200, -200, -800],
    }
    console.log(rect2)
    expect(rect2).toEqual(expected2)

    expect(layer.points).toEqual([
      [
        [-1200, -200, 200],
        [-800, -200, 200],
        [-200, -200, 200],
        [200, -200, 200],
        [800, -200, 200],
        [1200, -200, 200],
      ],
      [
        [-1200, -200, -200],
        [-800, -200, -200],
        [-200, -200, -200],
        [200, -200, -200],
        [800, -200, -200],
        [1200, -200, -200],
      ],
      [
        [-1200, -200, -800],
        [-800, -200, -800],
        [-200, -200, -800],
        [200, -200, -800],
        [800, -200, -800],
        [1200, -200, -800],
      ],
      [
        [-1200, -200, -1200],
        [-800, -200, -1200],
        [-200, -200, -1200],
        [200, -200, -1200],
        [800, -200, -1200],
        [1200, -200, -1200],
      ],
      [
        [-1200, -200, -1800],
        [-800, -200, -1800],
        [-200, -200, -1800],
        [200, -200, -1800],
        [800, -200, -1800],
        [1200, -200, -1800],
      ],
      [
        [-1200, -200, -2200],
        [-800, -200, -2200],
        [-200, -200, -2200],
        [200, -200, -2200],
        [800, -200, -2200],
        [1200, -200, -2200],
      ],
      [
        [-1200, -200, -2800],
        [-800, -200, -2800],
        [-200, -200, -2800],
        [200, -200, -2800],
        [800, -200, -2800],
        [1200, -200, -2800],
      ],
    ])
  })
})
